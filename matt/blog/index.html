<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="icon" type="image/png" href="/matt/favicon.png" />
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Matt Pharr&#39;s blog</title>
  <meta name="description" content="It seemed worth writing up at the time.">

  <link rel="stylesheet" href="/matt/blog/assets/main.css">
  <link rel="canonical" href="https://pharr.org/matt/blog/">
  <link rel="alternate" type="application/rss+xml" title="Matt Pharr’s blog" href="/matt/blog/feed.xml">
  
</head>


  <body>

    <header class="site-header" role="banner">

  <div class="wrapper">
    
    
    <a class="site-title" href="/matt/blog/">Matt Pharr’s blog</a>
  
    
      <nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path fill="#424242" d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.031C17.335,0,18,0.665,18,1.484L18,1.484z"/>
              <path fill="#424242" d="M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0c0-0.82,0.665-1.484,1.484-1.484 h15.031C17.335,6.031,18,6.696,18,7.516L18,7.516z"/>
              <path fill="#424242" d="M18,13.516C18,14.335,17.335,15,16.516,15H1.484C0.665,15,0,14.335,0,13.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.031C17.335,12.031,18,12.696,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger">
          
            
            
          
            
            
          
            
            
          
        </div>

      </nav>
    
  </div>
</header>


    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <div class="home">

  
  


  <ul class="post-list">
    
      <li>
        
        <span class="post-meta">Jul 10, 2023</span>

        <h2>
          <a class="post-link" href="/matt/blog/2023/07/10/sponza-atrium.html">A Visit to the Sponza Palace’s Atrium</a>
        </h2>
        Croatia's must-see tourist destination.
      </li>
    
      <li>
        
        <span class="post-meta">Dec 22, 2022</span>

        <h2>
          <a class="post-link" href="/matt/blog/2022/12/22/pbr-4ed.html">Some News About the 4th Edition of Physically Based Rendering</a>
        </h2>
        We have liftoff.
      </li>
    
      <li>
        
        <span class="post-meta">May 6, 2022</span>

        <h2>
          <a class="post-link" href="/matt/blog/2022/05/06/trowbridge-reitz.html">Let’s Stop Calling it “GGX”</a>
        </h2>
        A short plea for getting the naming right.
      </li>
    
      <li>
        
        <span class="post-meta">Mar 14, 2022</span>

        <h2>
          <a class="post-link" href="/matt/blog/2022/03/14/sampling-float-intervals.html">Sampling in Floating Point (2/3): 1D Intervals</a>
        </h2>
        A ramble extending Walker's algorithm to sample arbitrary floating-point intervals, later found to be a rederivation of earlier work.
      </li>
    
      <li>
        
        <span class="post-meta">Mar 5, 2022</span>

        <h2>
          <a class="post-link" href="/matt/blog/2022/03/05/sampling-fp-unit-interval.html">Sampling in Floating Point (1/3): The Unit Interval</a>
        </h2>
        Sampling algorithms can be subtle and tricky, as can be computations that are performed using floating-point arithmetic.  This post starts a short series on that topic, starting with the fundamentals: generating uniform random samples between zero and one.
      </li>
    
      <li>
        
        <span class="post-meta">Jan 5, 2022</span>

        <h2>
          <a class="post-link" href="/matt/blog/2022/01/05/pbr-bibliography-4ed.html">Update: Some Analysis of Physically Based Rendering’s Bibliography</a>
        </h2>
        Ending a year of suspense, the numbers are finally in for the fourth edition.
      </li>
    
      <li>
        
        <span class="post-meta">Dec 24, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/12/24/debugging-renderers-rendering-deterministically.html">Debugging Your Renderer (5/n): Rendering Deterministically</a>
        </h2>
        Making a renderer fully deterministic—the same input always giving exactly the same output—has a few tricky corners that were never all addressed in pbrt until the latest version.  Achieving that determinism has all sorts of benefits for testing and debugging.
      </li>
    
      <li>
        
        <span class="post-meta">Dec 19, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/12/19/debugging-renderers-end-to-end-tests.html">Debugging Your Renderer (4/n): End-to-end tests (or, “why did that image change?”)</a>
        </h2>
        Still in the thick of the task of detecting the presence of bugs in a renderer in the first place, this time the focus is on the value of a large suite of test scenes. Soon soon we will turn to what to do about all of these bugs when we find them.
      </li>
    
      <li>
        
        <span class="post-meta">Dec 2, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/12/02/debugging-renderers-assertions.html">Debugging Your Renderer (3/n): Assertions (and on not sweeping things under the rug)</a>
        </h2>
        Some notes on productively detecting bugs when they occur during the course of rendering and a cautionary tale about what can happen when you ignore runtime errors.
      </li>
    
      <li>
        
        <span class="post-meta">Nov 26, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/11/26/debugging-renderers-unit-tests.html">Debugging Your Renderer (2/n): Unit Tests</a>
        </h2>
        Returning, now with intention, to write up some thoughts about how to effectively debug a renderer.
      </li>
    
      <li>
        
        <span class="post-meta">Aug 7, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/08/07/moana-bandwidth-note.html">Swallowing the Elephant (Part 12): A Postscript On Disk Bandwidth</a>
        </h2>
        A few concluding notes (this time for real) about the effect of disk bandwidth when preparing to render the Moana Island scene with pbrt-v4.
      </li>
    
      <li>
        
        <span class="post-meta">Aug 1, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/08/01/moana-once-more-unto-the-beach.html">Swallowing the Elephant (Part 11): Once More Unto The Beach</a>
        </h2>
        More attention to pbrt's performance when getting ready to render Disney's Moana Island scene finally gets us somewhere.
      </li>
    
      <li>
        
        <span class="post-meta">Jul 29, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/07/29/moana-rendered-on-the-gpu.html">Swallowing the Elephant (Part 10): Rendering on the GPU—Finally</a>
        </h2>
        After our extended tour through where pbrt-v4 spends its time getting ready to render the Moana Island scene, we finally look at rendering, comparing performance and images from the CPU and GPU rendering paths.
      </li>
    
      <li>
        
        <span class="post-meta">Jul 27, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/07/27/moana-gpu-instances.html">Swallowing the Elephant (Part 9): We Got Instances</a>
        </h2>
        More work on performance with pbrt-v4 and the Moana Island scene, this time looking at getting object instances ready for rendering.
      </li>
    
      <li>
        
        <span class="post-meta">Jul 25, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/07/25/moana-gpu-part-1.html">Swallowing the Elephant (Part 8): Meet The GPU</a>
        </h2>
        Performance when rendering the Moana Island scene using pbrt-v4 on the GPU was surprisingly good at the start. And yet this is the first of three posts on the topic...
      </li>
    
      <li>
        
        <span class="post-meta">Apr 11, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/04/11/moana-time-to-first-pixel.html">Swallowing the Elephant (Part 7): Time To First Pixel</a>
        </h2>
        Digging into where all the time goes when parsing the Moana Island scene and getting ready to start rendering it.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 2, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/04/02/moana-island-pbrt-fool-me-once.html">Swallowing the Elephant (part 6): Fool me once…</a>
        </h2>
        Returning to Disney's Moana island scene with the latest version of pbrt, pbrt-v4. Just like the first time around, performance was not at first impressive.
      </li>
    
      <li>
        
        <span class="post-meta">Feb 26, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/02/26/pbrt-cover-image-redux.html">About That Scene For the Cover…</a>
        </h2>
        Additional words about the economics of academic book publishing, and an offer for compensation.
      </li>
    
      <li>
        
        <span class="post-meta">Feb 22, 2021</span>

        <h2>
          <a class="post-link" href="/matt/blog/2021/02/22/pbr-4ed-cover-image.html">Looking For A Scene For the Cover of Physically Based Rendering, 4ed</a>
        </h2>
        In search of something amazing...
      </li>
    
      <li>
        
        <span class="post-meta">Dec 26, 2020</span>

        <h2>
          <a class="post-link" href="/matt/blog/2020/12/26/pbr-bibliography-1-3ed.html">Some Analysis of Physically Based Rendering’s Bibliography (1-3ed)</a>
        </h2>
        Who's who in the bibliography and how that has changed over the first three editions.
      </li>
    
      <li>
        
        <span class="post-meta">Aug 19, 2020</span>

        <h2>
          <a class="post-link" href="/matt/blog/2020/08/19/pbrt-v4-released.html">An early release of pbrt-v4 and some notes about pbrt-gpu</a>
        </h2>
        The code is on github, scenes are available, and now it's just a matter of finishing writing the book...
      </li>
    
      <li>
        
        <span class="post-meta">Apr 26, 2020</span>

        <h2>
          <a class="post-link" href="/matt/blog/2020/04/26/debugging-intro.html">Debugging Your Renderer: Introduction (part 1 of n)</a>
        </h2>
        Debugging a renderer is its own beast, with the gift of bugs manifested visually, sometimes taunting you with millions of correct pixels and just a few that are bogus.  I've decided to write up some of the things I've learned about debugging renderers, starting here.
      </li>
    
      <li>
        
        <span class="post-meta">Feb 28, 2020</span>

        <h2>
          <a class="post-link" href="/matt/blog/2020/02/28/naming-maxims.html">Naming Maxims</a>
        </h2>
        Surely the most important thing to be worrying about at the moment.
      </li>
    
      <li>
        
        <span class="post-meta">Nov 3, 2019</span>

        <h2>
          <a class="post-link" href="/matt/blog/2019/11/03/difference-of-floats.html">Accurate Differences of Products with Kahan’s Algorithm</a>
        </h2>
        A nifty use of fused multiply add to avoid catastrophic cancellation that makes for my new favorite floating-point trick.
      </li>
    
      <li>
        
        <span class="post-meta">Oct 23, 2019</span>

        <h2>
          <a class="post-link" href="/matt/blog/2019/10/23/profiling-the-pbrt-build.html">Need for More Speed: Profiling and Optimizing the pbrt Build</a>
        </h2>
        An investigation into building pbrt more efficiently, using lessons learned from clang's new -ftime-trace functionality.
      </li>
    
      <li>
        
        <span class="post-meta">Oct 16, 2019</span>

        <h2>
          <a class="post-link" href="/matt/blog/2019/10/16/san-miguel-today.html">San Miguel, IRL</a>
        </h2>
        Some history of the San Miguel model, and an update on what the actual spot looks like today.
      </li>
    
      <li>
        
        <span class="post-meta">Jun 5, 2019</span>

        <h2>
          <a class="post-link" href="/matt/blog/2019/06/05/visualizing-env-light-warpings.html">Visualizing Warping Strategies for Sampling Environment Map Lights</a>
        </h2>
        A visual exploration of the differences between how two sample warping algorithms distort uniform samples when sampling environment map light sources.
      </li>
    
      <li>
        
        <span class="post-meta">Mar 13, 2019</span>

        <h2>
          <a class="post-link" href="/matt/blog/2019/03/13/triangle-sampling-1.5.html">Adventures in Sampling Points on Triangles (Part 1.5): Reader Mail and Followups</a>
        </h2>
        Digging into a few improvements and nits that were pointed out via email as well as an investigation of another possible mapping to the triangle.
      </li>
    
      <li>
        
        <span class="post-meta">Feb 27, 2019</span>

        <h2>
          <a class="post-link" href="/matt/blog/2019/02/27/triangle-sampling-1.html">Adventures in Sampling Points on Triangles (Part 1)</a>
        </h2>
        A new mapping for sampling points on triangles turns out to reduce variance by more than 2 times compared to the traditional approach.
      </li>
    
      <li>
        
        <span class="post-meta">Jan 26, 2019</span>

        <h2>
          <a class="post-link" href="/matt/blog/2019/01/26/an-introduction-to-ray-tracing.html">Re-reading An Introduction to Ray Tracing</a>
        </h2>
        Another go-round with an old companion.
      </li>
    
      <li>
        
        <span class="post-meta">Jan 23, 2019</span>

        <h2>
          <a class="post-link" href="/matt/blog/2019/01/23/over-one-tb-of-pbr.html">1.3 TB of Physically Based Rendering</a>
        </h2>
        Three months ago, we put Physically Based Rendering online. Much bandwidth has been consumed since then.
      </li>
    
      <li>
        
        <span class="post-meta">Oct 15, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/10/15/pbr-online.html">Physically Based Rendering, online</a>
        </h2>
        Physically Based Rendering is now available in an online edition--free for everyone to read.
      </li>
    
      <li>
        
        <span class="post-meta">Aug 3, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/08/03/moana-reader-mail.html">Swallowing the elephant (postscript: reader emails)</a>
        </h2>
        A whole bunch of interesting comments and pointers came in via email after I  posted the 'Swallowing the Elephant' series. Today, we'll dig into a few of them.
      </li>
    
      <li>
        
        <span class="post-meta">Jul 16, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/07/16/moana-island-pbrt-all.html">Swallowing the elephant: all the links</a>
        </h2>
        Adventures in rendering the Moana island scene with pbrt, collected together for your convenience.
      </li>
    
      <li>
        
        <span class="post-meta">Jul 16, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/07/16/moana-island-pbrt-5.html">Swallowing the elephant (part 5)</a>
        </h2>
        The conclusion of a series of investigations into improving pbrt's efficiency when rendering Disney's Moana island scene, wherein we look at rendering time and discuss potential future work.
      </li>
    
      <li>
        
        <span class="post-meta">Jul 15, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/07/15/moana-island-pbrt-4.html">Swallowing the elephant (part 4)</a>
        </h2>
        Another pass at reducing memory use when rendering Disney's Moana island scene, this time with a future version of pbrt where we are free to make bigger changes than we can with pbrt-v3.
      </li>
    
      <li>
        
        <span class="post-meta">Jul 13, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/07/13/moana-island-pbrt-3.html">Swallowing the elephant (part 3)</a>
        </h2>
        More work on getting pbrt to parse the scene description of Disney's Moana Island scene in a reasonable amount of time, wherein parsing and graphics state management receive some attention.
      </li>
    
      <li>
        
        <span class="post-meta">Jul 9, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/07/09/moana-island-pbrt-2.html">Swallowing the elephant (part 2)</a>
        </h2>
        Ongoing adventures in trying to get pbrt to render Disney's Moana Island scene in a reasonable amount of time and memory.
      </li>
    
      <li>
        
        <span class="post-meta">Jul 8, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/07/08/moana-island-pbrt-1.html">Swallowing the elephant (part 1)</a>
        </h2>
        "Interesting" things almost always come to light when a software system is given input with radically different characteristics than it has seen before.  I learned this lesson in spades when digging into pbrt's performance when rendering the island scene from Moana that Disney just released.
      </li>
    
      <li>
        
        <span class="post-meta">May 31, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/05/31/check-rare.html">CHECK_RARE and making sense of unusual occurrences</a>
        </h2>
        A variation on traditional assertions that I've found to be fairly useful.
      </li>
    
      <li>
        
        <span class="post-meta">May 27, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/05/27/nvidia-bound.html">On to the next thing</a>
        </h2>
        A new job at NVIDIA, where I hear there's some rendering going on.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 30, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/30/ispc-all.html">The story of ispc: all the links</a>
        </h2>
        Collected together all for your convenience.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 30, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/30/ispc-fin.html">The story of ispc: postscript (part 12)</a>
        </h2>
        On adversity.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 29, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/29/ispc-retrospective.html">The story of ispc: retrospective (part 11)</a>
        </h2>
        Experiences with number of complex systems written in ispc, a brief language critique, and an awkward pull request.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 28, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/28/ispc-talks-and-departure.html">The story of ispc: spreading the world and leaving Intel (part 10)</a>
        </h2>
        Life as an open source project, going out and talking with academics, and an abrupt realization that it was time to go.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 27, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/27/ispc-volta-open-source.html">The story of ispc: the open source release and the end of volta (part 9)</a>
        </h2>
        Wherein the open source process was rocky and a name was mangled.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 26, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/26/ispc-volta-more-on-performance.html">The story of ispc: more on optimizations and performance (part 8)</a>
        </h2>
        A few details of the language design helped a lot with being able to generate good code. Custom optimization passes helped a lot with avoiding unnecessary gathers and scatters. 
      </li>
    
      <li>
        
        <span class="post-meta">Apr 25, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/25/ispc-volta-avx.html">The story of ispc: Bringing up AVX and giving something back to LLVM (part 7)</a>
        </h2>
        The arrival of AVX on Sandybridge CPUs offered the potential for a doubling of performance.  But first, there was the minor matter of getting an AVX backend working.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 23, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/23/ispc-volta-users-and-ooo.html">The story of ispc: first users and modern CPUs coming through (part 6)</a>
        </h2>
        Things were working well with early users and bigger programs worked well.  Modern CPUs turned out to be pretty good at running SPMD on SIMD, even though they weren't designed for it.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 22, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/22/ispc-volta-first-results.html">The story of ispc: first benchmark results (part 5)</a>
        </h2>
        Wherein for some, the only reasonable explanation was that I must have cheated.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 21, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/21/ispc-volta-c-and-spmd.html">The story of ispc: C’s influence and implementing SPMD on SIMD (part 4)</a>
        </h2>
        Lessons learned from C and how they relate to SPMD on SIMD. Also, the difference between a compiler optimization and a program transformation.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 20, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/20/ispc-volta-going-all-in.html">The story of ispc: going all in on volta (part 3)</a>
        </h2>
        Getting serious about volta (and making sure the project wasn't killed).
      </li>
    
      <li>
        
        <span class="post-meta">Apr 19, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/19/ispc-volta-is-born.html">The story of ispc: volta is born (part 2)</a>
        </h2>
        Wherein I start writing a compiler without a real plan and the results from a little experiment are uncomfortably exciting.
      </li>
    
      <li>
        
        <span class="post-meta">Apr 18, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/04/18/ispc-origins.html">The story of ispc: origins (part 1)</a>
        </h2>
        This one time, at Intel, I wrote a compiler...
      </li>
    
      <li>
        
        <span class="post-meta">Mar 2, 2018</span>

        <h2>
          <a class="post-link" href="/matt/blog/2018/03/02/rendering-in-camera-space.html">Rendering in Camera Space(ish)</a>
        </h2>
        Wherein choosing the right coordinate system for ray intersection calculations is shown to be important and where the obvious fix has surprising performance implications.
      </li>
    
  </ul>

  <p class="rss-subscribe">subscribe <a href="/matt/blog/feed.xml">via RSS</a></p>

</div>

      </div>
    </main>

    <footer class="site-footer">

  <div class="wrapper">

    <h2 class="footer-heading">Matt Pharr&#39;s blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li><a href="/matt/">homepage</a></li>
          
            <li><a href="mailto:matt.pharr@gmail.com">matt.pharr@gmail.com</a></li>
          
        </ul>
      </div>

      <div class="footer-col footer-col-3">
        <p>It seemed worth writing up at the time.
</p>
      </div>
    </div>

  </div>

</footer>


  </body>

</html>
